<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Climate Change,  Crowbars and Strikeouts </title>
        <meta name="viewport" content="width=device-width">

<!--   <link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,300,200' rel='stylesheet' type='text/css'> -->

<link href='http://fonts.googleapis.com/css?family=Noticia+Text:400,700' rel='stylesheet' type='text/css'>



        <!-- syntax highlighting CSS -->

        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>
    <div class="mini-banner"></div>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">chartsnthings</a></h1>
          </div>

          <p class="meta">10 Apr 2013</p>
<h2>Climate Change,  Crowbars and Strikeouts </h2>

<div class="post">
<p>Just over a week ago we <a href="http://www.nytimes.com/interactive/2013/03/29/sports/baseball/Strikeouts-Are-Still-Soaring.html?ref=baseball" title="Strikeouts graphic" target="_blank">published a graphic</a> – more of an interactive short blog post without a blog, really – that accompanied <a href="http://www.nytimes.com/2013/03/31/sports/baseball/swing-and-a-mystery-why-strikeout-rates-are-soaring.html?pagewanted=all" title="Why Strikeouts Are Soaring" target="_blank">Tyler Kepner’s piece about strikeouts</a> for the Times’ 2013 baseball preview. The subject of both pieces was the steep increase in strikeouts across the board in the past decade: last year, ten Major League clubs set franchise records for strikeouts.</p>
<p><span>The fact Tyler came to us with was one he’d found on his own: 18 teams struck out at least 1,200 times last season; through 2005, there had never been a season in which more than two teams topped that total. Below, the first sketch, based on that stat – the number of teams with 1,200 strikeouts or more in a season going back to 1968:</span></p>
<p><img alt="image" src="http://farm9.staticflickr.com/8541/8616534959_af20c85d6e_b.jpg"/></p>
<p><span>That’s a compelling chart, but it’s also a little misleading because the league has expanded a few times and not all seasons are the same length.</span></p>
<p>Instead, <a href="http://www.twitter.com/wardnyt" title="Joe Ward" target="_blank">Joe Ward</a> and I thought about making small multiples of the teams and arranging them in a sort of histogram, sort of like my colleague Bill Marsh <a href="http://www.nytimes.com/interactive/2012/11/10/opinion/20101104_POLL-MARSH.html?ref=sunday-review" title="Exit poll chart" target="_blank">did with exit polls</a> in 2008 and 2012.</p>
<p><span>Here are the first nine teams in alphabetical order, with the league average in grey:</span></p>
<p><img alt="image" src="http://farm9.staticflickr.com/8261/8636758990_a32e48a10c_o.png"/></p>
<p>We didn’t really care for these, and I complained about it to my colleague and cubicle-partner <a href="http://www.twitter.com/aliciadesantis" title="Alicia" target="_blank">Alicia Desantis</a>, who suggested I make it look like the climate change “hockey stick charts.” (FYI, The image below, one of the better ones from Wikipedia, is meant to convey the form, not wade into the “<a href="http://en.wikipedia.org/wiki/Hockey_stick_controversy" title="hockey stick">Hockey Stick controversy</a>“ if you believe there is one.)</p>
<p><img alt="image" src="http://upload.wikimedia.org/wikipedia/commons/thumb/9/91/IPCC_2001_TAR_Figure_2.20.png/800px-IPCC_2001_TAR_Figure_2.20.png"/></p>
<p><span>Here’s what the first R sketch of that idea looked like – every team’s average strikeouts per game per year. (Red is the league average.)</span></p>
<p><img alt="image" src="http://farm9.staticflickr.com/8104/8636778352_d351a3bb31_o.png"/></p>

<p>At this point, we had a chart we liked and the process went forward like many of our other projects do. However, there was a key difference with this one that’s worth mentioning - all the rest of the sketches, edits and and design improvements happened in a web browser. (More on this later.)</p>
<p>Here are a few successions of this chart, made using D3:</p>
<p><span>Checkin #2</span></p>
<p><img alt="image" src="http://farm9.staticflickr.com/8381/8635712389_cbcdcf91e2_o.png"/></p>
<p><span>Checkin #6</span></p>
<p><img alt="image" src="http://farm9.staticflickr.com/8264/8636817810_dbc33ae970_b.jpg"/></p>
<p><span>Checkin #22</span></p>
<p><img alt="image" src="http://farm9.staticflickr.com/8405/8635712495_2df5833fd5_b.jpg"/></p>
<p><span>As it appeared when published (Checkin #142)</span></p>
<p><img alt="image" src="http://farm9.staticflickr.com/8380/8636817680_5eb3e54ecc_b.jpg"/></p>
<p>UPDATE, now with more Voronoi, as per <a href="https://twitter.com/mbostock/status/322173547806072833" title="more cowbell" target="_blank">Mike’s request</a>:</p>
<p><img src="http://farm9.staticflickr.com/8257/8639471290_27326ee61c_b.jpg"/></p>
<p><span> </span></p>
<p><span>A few final technical notes worth mentioning:</span></p>
<p>Getting this data from baseball-reference.com requires a bit of scraping, and this project sold me for life on R’s <a href="http://cran.r-project.org/web/packages/XML/index.html" title="XML" target="_blank">XML</a> package, which makes scraping fast and shamefully easy. </p>
<p><span>In the final project, there are three interactive charts and a table on the page, and they are all generated in D3 with just one data file. The whole chart form – line selection, tooltip, calculating averages – is easily abstracted out, and for the first time I felt some of the same sketching power in a browser that I’d seen only with R: the concept that if you can make one chart, you can make a hundred with the same effort. But with D3, the sketches are already in a browser and wired for interaction! From a development point of view, it felt tremendously powerful. (For many of you this might be obvious, but old habits die hard.)</span></p>
<p>Also, thanks to the open-source <a href="http://nytimes.github.io/svg-crowbar/" title="SVG crowbar">SVG Crowbar bookmarklet</a> developed by <a href="http://www.twitter.com/shancarter" title="Shan twitter" target="_blank">Shan Carter</a>, this project represented a recent change in development process, for me, at least. Instead of developing both print and online charts separately, we were able to generate all the charts for print in a web browser at precisely the sizes we wanted, then save them down to Illustrator. Aside from being a useful shift in thinking, it saved a ton of time. (This isn’t the first time the department has done something like this – just the first time I did.)</p>
<p><span>For example, we included the small multiples in print, but we made them in D3 first:</span></p>
<p><img alt="image" src="http://farm9.staticflickr.com/8393/8638269405_63195e5011_b.jpg"/></p>
<p><span>Here’s the two-page spread in print. Again, all these charts were produced in a browser, saved to SVG and edited lightly in Illustrator.</span><img alt="image" src="http://farm9.staticflickr.com/8244/8635781909_435707f7bd_b.jpg"/></p>
<p><span>Finally, for the record, most of the best parts of this graphic were made by Shan while I was on vacation (with standard last-minute triage from Amanda Cox and Mike Bostock), and all the meaningful annotation was from Joe Ward, who, did you know, <a href="http://www.sloansportsconference.com/?p=9794" title="Joe Ward" target="_blank">played D1 baseball and was a scout for the Cleveland Indians</a> before coming to the Times?</span></p>

</div>


          <div class="footer">
          </div>
        </div>

    </body>
</html>
