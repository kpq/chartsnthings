<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Shifts in rankings</title>
        <meta name="viewport" content="width=device-width">

<!--   <link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,300,200' rel='stylesheet' type='text/css'> -->

<link href='http://fonts.googleapis.com/css?family=Noticia+Text:400,700' rel='stylesheet' type='text/css'>



        <!-- syntax highlighting CSS -->

        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>
      <div id="fb-root"></div>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">chartsnthings</a></h1>
          </div>

          <p class="meta">12 Aug 2012</p>
<h2>Shifts in rankings</h2>

<div class="post">
<p>Although it&#8217;s not the sexiest of our graphics, we made a couple widgets, for lack of a better word, that lived on the Olympics results pages. One of them documented the shift in rankings for events with lots of splits.  Shan Carter had written a small charting framework for Flash in 2010, and it included some methods to do a chart like this (which happens to be from the 2010 women&#8217;s biathlon 7.5k sprint):</p>
<p><img align="top" alt="flash" src="http://farm8.staticflickr.com/7267/7768959664_9675560617_o.jpg" width="600"/></p>
<p>But we don&#8217;t really use Flash anymore, so I tried to port Shan&#8217;s chart for the 2012 games (with embarrassing amounts of help and patience from my colleagues <a href="https://twitter.com/tysone" title="tysone" target="_blank">Tyson Evans</a> and <a href="http://benkoski.com/" title="ben" target="_blank">Ben Koski</a> in Interactive News).</p>
<p>Like almost anything I program, this was adapted from a simple online tutorial. <a href="http://stackoverflow.com/questions/8689498/drawing-multiple-lines-in-d3-js" title="stack overflow" target="_blank">This one</a>, from Stack Overflow, seemed to be almost exactly what I needed, but as far as I could tell, none of the <a href="https://github.com/mbostock/d3/wiki/SVG-Shapes#wiki-line_interpolate" title="d3 interpolations" target="_blank">D3 interpolations</a> did what I needed the chart to do. Though it was fun to test out some of them:</p>
<p><img align="top" alt="cardinal" src="http://farm8.staticflickr.com/7254/7768959548_a8812029c2_z.jpg" width="467"/></p>
<p>I ended up having to make a custom interpolator in D3 to do it. I&#8217;m would post the code, but <a href="http://www.twitter.com/mbostock" title="mike" target="_blank">Mike Bostock</a> (who, on a recent New York visit, actually groaned when he saw my implementation) made it possible to include <a href="http://bl.ocks.org/3310323" title="custom interpolators" target="_blank">your own custom interpolators</a> for d3.svg.line() and d3.svg.area() in last week&#8217;s release of <span><a href="https://github.com/mbostock/d3/wiki/Release-Notes" title="new d3" target="_blank">D3&#160;2.10</a></span>. Sweet!  </p>
<p>We were thinking about a few larger implementations of the framework, but in the end we didn&#8217;t have the time to do it right. Here&#8217;s one (broken) sketch based on some test data from the marathon:</p>
<p><img align="middle" alt="marathon" src="http://farm9.staticflickr.com/8282/7769152210_0ceac73b13_c.jpg" width="800"/></p>
<p>Anyway, aside from a few bugs entirely traceable back to me, the rankings shifts in D3 worked out pretty well for swimming events. Here&#8217;s one of the more interesting ones, from the <a href="http://london2012.nytimes.com/swimming/womens-400m-individual-medley" title="400IM" target="_blank">Women&#8217;s 400 IM</a>.</p>
<p><img align="middle" alt="Womens 400 IM" src="http://farm8.staticflickr.com/7266/7768959764_8a85874aa4_o.png"/></p>

</div>


          <div class="footer">
          </div>
        </div>

    </body>
</html>
